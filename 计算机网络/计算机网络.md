# 计算机网络

- 重点
  - 软硬件组成
  - 参考模型
- 难点
  - 网络体系结构
  - 网络协议概念
  - 网络分层思想



### 网络的软硬件组成

**硬件：**计算设备

通信链路

路由器

**软件：**协议，应用程序





交换的重要性



物理层：透明传彼特流

保证比特流无错





## 网络体系结构

### 协议

协议：指通信双方关于如何进行通信的一种约定

网络协议：同等实体间通信制定的有关通信规则的约定

**对等实体（peer）**,不同机器包含的对应层的实体，如进程，硬件

- 协议实现的细节和接口的规范是由具体的实现者决定的，不影响网络体系结构的定义。

- 一个网络中所有机器上的接口不必都一样，只要每台机器能够正确地使用所有的协议即可

- 不同的网络，其层的数目、各层的名字、内容和功能都不尽相同，但是**每一层的目的都是向它的上一层提供服务**，而把如何实现这一服务的细节对上一层加以屏蔽。
- 网络协议是控制两个或多个网络设备之间通信的规则的集合。网络协议可以分为不同的层次，每一层负责实现不同的功能，并向上一层提供服务。在同一层次上，不同设备之间的通信需要遵循相同的协议，以保证信息的正确传输和解释。例如，应用层协议包括了 HTTP、FTP、SMTP 等，它们规定了应用程序之间如何交换数据；传输层协议包括了 TCP、UDP 等，它们规定了如何建立和维护端到端的连接；网络层协议包括了 IP、ICMP、ARP 等，它们规定了如何寻址和路由数据包；数据链路层协议包括了 Ethernet、PPP、HDLC 等，它们规定了如何在物理介质上传输比特流等等



### 服务

​	服务是各层向它上层提供的一组原语。**服务定义了两层之间的接口**，上层是服务用户，下层是服务提供者。

​	只要不改变提供给用户的服务，实体可以任意地改变它们的协议。 n层实体利用n－1层实体提供的服务并执行n层协议来完成对n＋1层提供服务。



### 面向连接服务和无连接服务

（1）面向连接服务
	面向连接服务是在数据传输之前必须先建立连接，在数据传输结束后再释放这个连接。
	面向连接服务模拟电话系统工作模式，具有连接建立、数据传输和连接释放三个阶段。在传输数据时是按序传输的，这与电路交换的许多特性很相似，因此，面向连接服务在网络层中又称为虚电路服务。这里的“虚电路“表示：虽然在两个服务用户的通信过程中并没有始终占用一条端到端的完整物理电路，但用户在感觉上却好像一直在使用这样的一条电路，实质上它是通过分时共享物理电路的技术来实现的。面向连接服务比较适合在一定期间内要向同一目的地发送多个数据的情形。对于偶尔发送很少量的数据，面向连接服务则由于开销过大而不太适应。
	若两个用户需要进行频繁的通信，则可建立永久连接。这样可以免除在每次通信时进行连接建立和连接释放这两个过程，永久连接与电话网中的专用话音电路十分相似。
（2）无连接服务
	在无连接服务的情况下，两个实体之间的通信无须预先建立一个连接，因此，有关资源不需要事先进行预定保留，这些资源在数据传输时动态分配。日常通信中的短信业务提供的就是无连接服务。
	无连接服务的另一个特征就是它不需要通信的两个实体同时处于活跃状态。当发送端的实体正在进行数据传输时，它必须是活跃的，但此时接收端的实体并不一定必须是活跃的。只有当接收端的实体正在进行数据接收时，它才必须是活跃的。
	无连接服务的优点在于灵活方便和迅速及时，但它不能防止数据的丢失、重复或乱序。无连接服务特别适合传输少量数据的情形。
	无论是面向连接服务还是无连接服务，都不能保障数据传输的可靠性。在此，我们使用服务质量（Quality of Service，QoS）来评价服务的特性，有些服务十分可靠，从来不丢失数据。为了实现可靠的服务，通常是由接收端确认接收到每一个数据，使发送端确信它所发送的数据已经正确到达接收端这一方法来实现的。这种确认机制要增加额外的传输开销和延迟，对于不同的网络应用，有时是值得的，但有时则不尽然。
	有两种面向连接的可靠性服务应用比较广泛，即消息流和字节流。消息流保持应用消息的边界，如发送端发送两个1KB的消息，接收端肯定也是接收到两个1KB的消息，绝不会变成一个2KB的消息。而字节流则没有消息边界，如2KB字节到达接收端后，接收端根本无法分辨所接收的数据究竟是一个2KB的消息还是两个1KB的消息，或者是2048个单字节消息。如果在网络上传送一本书，当把每页作为分离的消息进行传输时，保留消息的边界就变得比较重要。然而，作为一个终端在远程分时系统上登录时，从终端到计算机的字节流传输就能够满足需求。
	对于某些网络应用而言，面向连接的数据传输因确认引起的延迟可能难以满足用户的需求。比如数字化的音频传输，网络用户宁可听到线路上偶尔出现的杂音，或不时混淆的声音，也不愿意因等待确认而造成延迟。同样，在传输视频数据时，错了几个像素并无大碍，但视频突然停顿以等待纠正传输错误却会令人十分不满意。

### 五层协议体系

<img src="pics/image-20230308154717452.png" alt="image-20230308154717452" style="zoom:50%;" />



### OSI模型

七层模型

<img src="pics/image-20230308152018007.png" alt="image-20230308152018007" style="zoom:50%;" />
