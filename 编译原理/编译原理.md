# 编译原理

## 引论

编译器：

- 是一个语言翻译程序
- 能够发现源程序中的错误
- 产生汇编语言，汇编语言比较易于调试和输出

解释器：

-  逐条翻译语句

汇编器：

- 生成可重定位的机器代码。

![image-20240604084013985](assets/image-20240604084013985.png)

### 编译器的结构

- 分析部分
  - 把源程序分解成为多个组成要素，并在这些要素之上加上语法结构
  - 使用这个结构来创建该源程序的一个中间表示
  - 把信息存放在一个称为符号表(symbol table)的数据结构  中
- 综合部分
  - 根据中间表示和符号表中的信息来构造用户期待的目标程序。

![image-20240604084440642](assets/image-20240604084440642.png)

![image-20240604085324506](assets/image-20240604085324506.png)

- 词法分析
  - 读入组成源程序的字符流，并且将它们组织成为有意义的词素(lexeme)的序列。对于每个词素，词法分析器产生如下形式的词法单元(token)作为输出： 〈token-name, attribute-value)
  - 例如：`position = initial + rate + 60` => `<id, 1> < = > <id, 2> <*> < 60 >`

- 语法分析
  - 使用由词法分析器生成的各个词法单元的第一个分量来创建树形的中间表示。

- 语义分析
  - 使用语法树和符号表中的信息来检査源程序是否和语言定义的语义一致
  - **类型检查**
- 中间代码生成
  - 在把一个源程序翻译成目标代码的过程中，一个编译器可能构造出一个或多个中间表示。这些中间表示可以有多种形式
  - 中间代码的性质：它应该易于生成，且能够被轻松地翻译为目标机器上的语言



### 出错处理三个主要错误

- 词法错误
- 语法错误
- 语义错误



### 编译阶段的组合

有时候把编译的过程分为前端和后端

前端：词法分析、语法分析、语义分析、中间代码生成

后端：目标代码生成、相关出错处理、符号表操作



## 语法制导翻译器

### 语法定义

文法自然地描述了大多数程序设计语言构造的层次化语法结构

#### 文法定义

一个上下文无关文法(context-free grammar)由四个元素组成：

1. 一个终结符号集合
2. 一个非终结符号集合
3. 一个产生式集合
4. 指定一个非终结符号为开始符号

一个终结符号串是由零个或多个终结符号组成的序列，零个终结符号组成的串称为空串



